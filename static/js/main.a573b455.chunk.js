(this["webpackJsonptodolist-1-new"]=this["webpackJsonptodolist-1-new"]||[]).push([[0],{16:function(e,t,s){},21:function(e,t,s){e.exports={content:"Profile_content__2bVbl"}},23:function(e,t,s){e.exports={dialogs:"Dialogs_dialogs__wEPyW",active:"Dialogs_active__3Ir0j",itemDialogs:"Dialogs_itemDialogs__1xG0x",messages:"Dialogs_messages__1qLzh"}},24:function(e,t,s){e.exports={info:"ProfileInfo_info__33qwx",photoSmall:"ProfileInfo_photoSmall__sihW0"}},25:function(e,t,s){e.exports={usersPhoto:"users_usersPhoto__g3Sqh",activePages:"users_activePages__1Q9yI",notActivePage:"users_notActivePage__2IePW"}},27:function(e,t,s){e.exports={itemDialogs:"DialogsItem_itemDialogs__20vU3",active:"DialogsItem_active__1s7-B"}},29:function(e,t,s){e.exports={post:"MyPosts_post__2Bqj9",addText:"MyPosts_addText__1Lxto"}},30:function(e,t,s){e.exports={content:"Posts_content__3o3pC",item:"Posts_item__2YUVg"}},31:function(e,t,s){e.exports={header:"Header_header__2eVZF",nickName:"Header_nickName__1vETf"}},41:function(e,t,s){},43:function(e,t,s){e.exports={loader:"Preloading_loader__1ZZFm",load1:"Preloading_load1__1kRSQ"}},48:function(e,t,s){},6:function(e,t,s){e.exports={nav:"Navbar_nav__2jcuY",item:"Navbar_item__1KvGe",activLink:"Navbar_activLink__2jFm0"}},74:function(e,t,s){"use strict";s.r(t),s.d(t,"renderEnteerTree",(function(){return Ie}));var n=s(1),a=s.n(n),i=s(20),c=s.n(i),o=(s(48),s(16),s(6)),r=s.n(o),l=s(4),u=s(0),d=function(){return Object(u.jsxs)("div",{className:r.a.nav,children:[Object(u.jsx)("div",{className:r.a.item,children:Object(u.jsx)(l.b,{to:"/profile/",className:r.a.activLink,children:"Profile"})}),Object(u.jsx)("div",{className:r.a.item,children:Object(u.jsx)(l.b,{to:"/users/",className:r.a.activLink,children:"Users"})}),Object(u.jsx)("div",{className:r.a.item,children:Object(u.jsx)(l.b,{to:"/dialogs/",className:r.a.activLink,children:"Messages"})}),Object(u.jsx)("div",{className:r.a.item,children:Object(u.jsx)(l.b,{to:"/news/",className:r.a.activLink,children:"News"})}),Object(u.jsx)("div",{className:r.a.item,children:Object(u.jsx)(l.b,{to:"/music/",className:r.a.activLink,children:"Music"})}),Object(u.jsx)("div",{className:r.a.item,children:Object(u.jsx)(l.b,{to:"/settings/",className:r.a.activLink,children:"Sattings"})})]})},j=function(){return Object(u.jsx)("div",{children:Object(u.jsx)("h1",{children:"Test News Components"})})},g=function(e){return Object(u.jsx)("div",{children:Object(u.jsx)("h1",{children:"Test Settings"})})},h=s(3),b=function(){return Object(u.jsx)("h1",{children:"Test Music Components"})},p=s(23),m=s.n(p),O=s(27),f=s.n(O),x=function(e){return Object(u.jsx)("div",{className:f.a.dialog+" "+f.a.active,children:Object(u.jsxs)(l.b,{to:"/dialogs/"+e.id,children:[" ",e.name," "]})})},v=s(41),P=s.n(v),_=function(e){return Object(u.jsx)("div",{className:P.a.messag,children:e.message})},w=s(8),N=s(2),k="changeDialogPost",y="addDialogPost",F={dialogNick:[{id:1,name:"Anatoliy"},{id:2,name:"Sergey"},{id:3,name:"Sveta"},{id:4,name:"Nikifor"},{id:5,name:"Arsrniy"}],messages:[{id:1,message:"Hello"},{id:2,message:"How are you?"},{id:3,message:"I`am learn to React"}],messageBody:""},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return Object(N.a)(Object(N.a)({},e),{},{messageBody:t.value?t.value:""});case y:var s={id:3,message:e.messageBody.trim()};return Object(N.a)(Object(N.a)({},e),{},{messages:e.messages.concat(s),messageBody:""});default:return e}},A=Object(w.b)((function(e){return{dialogNick:e.dialogsPages.dialogNick,messages:e.dialogsPages.messages,messageBody:e.dialogsPages.messageBody}}),(function(e){return{updateNewMessageBody:function(t){e(function(e){return{type:k,value:e}}(t))},sendMessage:function(){e({type:y})}}}))((function(e){var t=e.messages.map((function(e){return Object(u.jsx)(_,{message:e.message})}));return Object(u.jsxs)("div",{className:m.a.dialogs,children:[Object(u.jsx)("div",{className:m.a.itemDialogs,children:e.dialogNick.map((function(e){return Object(u.jsx)(x,{name:e.name,id:e.id})}))}),Object(u.jsxs)("div",{className:m.a.messages,children:[t,Object(u.jsx)("div",{children:Object(u.jsx)("textarea",{value:e.messageBody,onChange:function(t){e.updateNewMessageBody(t.currentTarget.value)}})}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{onClick:function(){return e.sendMessage()},children:"add"})})]})]})})),C=s(11),E=s(12),S=s(14),D=s(13),T=s(21),U=s.n(T),L=s(9),M=s.n(L),H=s(24),B=s.n(H),G=function(e){return Object(u.jsxs)("div",{children:[Object(u.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/7/7f/Istanbul_IMG_7257_1725.jpg",alt:""}),Object(u.jsxs)("div",{className:B.a.info,children:[Object(u.jsx)("img",{className:B.a.photoSmall,src:e.profilePage.photos.small,alt:"\u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0430 \u043c\u0430\u043b\u0435\u043d\u044c\u043a\u0430\u044f"}),Object(u.jsx)("img",{className:B.a.photoSmall,src:e.profilePage.photos.large,alt:"\u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0430 \u0431\u043e\u043b\u044c\u0448\u0430\u044f"}),Object(u.jsxs)("div",{children:[" ",e.profilePage.fullName," "]}),"Ava+discrip"]})]})},q=s(29),R=s.n(q),J=s(30),W=s.n(J),Y=function(e){return Object(u.jsx)("div",{className:W.a.post,children:Object(u.jsxs)("div",{className:W.a.item,children:[Object(u.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTOlaWqOUHlXgQBKHi5jFoXsPTmxDI6SjFVzA&usqp=CAU",alt:""}),e.message,Object(u.jsxs)("div",{children:[Object(u.jsx)("span",{children:"like "}),e.likescounte]})]})})},z=s(22),K={aboutMe:null,contacts:{facebook:null,website:null,vk:null,twitter:null,instagram:null,youtube:null,github:null,mainLink:null},lookingForAJob:!0,lookingForAJobDescription:null,fullName:null,userId:null,photos:{small:void 0,large:void 0},post:[{id:1,message:"It's me. What are you doing?",likescounte:5},{id:2,message:"I'am learn",likescounte:13}],newPostText:""},Q=function(){return{type:"addPost"}},V=function(e){return{type:"changePost",action:e}},Z=function(e){return{type:"SET_PROFILE",action:e}},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"changePost":return Object(N.a)(Object(N.a)({},e),{},{newPostText:t.action});case"addPost":var s={id:6,message:e.newPostText,likescounte:0};return e.newPostText.trim()?Object(N.a)(Object(N.a)({},e),{},{post:[].concat(Object(z.a)(e.post),[s]),newPostText:""}):e;case"SET_PROFILE":return Object(N.a)(Object(N.a)({},e),{},{aboutMe:t.action.aboutMe,contacts:Object(N.a)({},t.action.contacts),lookingForAJob:t.action.lookingForAJob,lookingForAJobDescription:t.action.lookingForAJobDescription,fullName:t.action.fullName,userId:t.action.userId,photos:Object(N.a)({},t.action.photos)});default:return e}},$=Object(w.b)((function(e){return{profilePage:e.profilePage}}),(function(e){return{updateText:function(t){e(V(t))},addNewText:function(){e({type:"addPost"})}}}))((function(e){var t=e.profilePage.post.map((function(e){return Object(u.jsx)(Y,{message:e.message,likescounte:e.likescounte},e.id)}));return Object(u.jsxs)("div",{children:[Object(u.jsx)("h3",{children:"My post"}),Object(u.jsxs)("div",{className:R.a.addText,children:[Object(u.jsx)("textarea",{value:e.profilePage.newPostText,onChange:function(t){e.updateText(t.currentTarget.value)},children:" "}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{onClick:function(){e.addNewText()},children:"Add post"})})]}),Object(u.jsx)("div",{className:R.a.post,children:t})]})})),ee=function(e){return Object(u.jsxs)("div",{className:U.a.content,children:[Object(u.jsx)(G,{profilePage:e.profilePage}),Object(u.jsx)($,{})]})};var te=function(e){return function(t){var s=Object(h.e)(),n=Object(h.f)(),a=Object(h.g)();return Object(u.jsx)(e,Object(N.a)(Object(N.a)({},t),{},{router:{location:s,navigate:n,params:a}}))}}(function(e){Object(S.a)(s,e);var t=Object(D.a)(s);function s(){return Object(C.a)(this,s),t.apply(this,arguments)}return Object(E.a)(s,[{key:"componentDidMount",value:function(){var e=this,t=this.props.router.params.userId;this.props.router.params.userId||(t=2),M.a.get("https://social-network.samuraijs.com/api/1.0/profile/".concat(t)).then((function(t){e.props.setProfile(t.data)}))}},{key:"render",value:function(){return Object(u.jsx)("div",{className:U.a.content,children:Object(u.jsx)(ee,{profilePage:this.props.profilePage,changePostProfile:this.props.changePostProfile,addPostProfile:Q,setProfile:Z})})}}]),s}(a.a.Component)),se=Object(w.b)((function(e){return{profilePage:e.profilePage}}),{changePostProfile:V,addPostProfile:Q,setProfile:Z})(te),ne={items:[],totalCount:0,error:null,currentPage:1,totalPageSize:10,isFetching:!0,followingInProgress:[1,2]},ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW_":return Object(N.a)(Object(N.a)({},e),{},{items:e.items.map((function(e){return e.id===t.id?Object(N.a)(Object(N.a)({},e),{},{followed:!0}):e}))});case"UN_FOLLOW_":return Object(N.a)(Object(N.a)({},e),{},{items:e.items.map((function(e){return e.id===t.id?Object(N.a)(Object(N.a)({},e),{},{followed:!1}):e}))});case"SET_USERS":return Object(N.a)(Object(N.a)({},e),{},{items:Object(z.a)(t.items.items),totalCount:t.items.totalCount,error:t.items.error,currentPage:t.items.currentPage});case"CHANGE_USERS_PAGE":return Object(N.a)(Object(N.a)({},e),{},{currentPage:t.currentPage});case"CHANGE_Fetching":return Object(N.a)(Object(N.a)({},e),{},{isFetching:t.isFetching});case"CHANGE_Disabled":return Object(N.a)(Object(N.a)({},e),{},{followingInProgress:t.isFetchingD?[t.followingInProgress]:e.followingInProgress.filter((function(e){return e!=t.followingInProgress}))});default:return e}},ie=s(25),ce=s.n(ie),oe=s.p+"static/media/USERS.ebe73738.svg",re=function(e){console.log(e.users.items);for(var t=[],s=1;s<=10;s++)t.push(s);return Object(u.jsxs)("div",{children:[t.map((function(t){return Object(u.jsx)("span",{className:e.currentPage===t?ce.a.activePages:ce.a.notActivePage,onClick:function(){return s=t,void e.upDateUsers(s);var s},children:t+" "},t)})),e.users.items.map((function(t){return Object(u.jsxs)("div",{children:[Object(u.jsxs)("span",{children:[Object(u.jsx)("div",{children:Object(u.jsx)(l.b,{to:"/profile/".concat(t.id),children:Object(u.jsx)("img",{className:ce.a.usersPhoto,src:null!=t.photos.small?t.photos.small:oe,alt:""})})}),Object(u.jsx)("div",{children:t.followed?Object(u.jsx)("button",{disabled:e.users.followingInProgress.some((function(e){return e==t.id})),onClick:function(){e.changeFollowingInProgress(t.id,!0),M.a.delete("https://social-network.samuraijs.com/api/1.0/follow/".concat(t.id),{withCredentials:!0,headers:{"API-KEY":"3c089002-10aa-48c7-80c6-fa863be7bb86"}}).then((function(s){e.changeFollowingInProgress(t.id,!1),0===s.data.resultCode&&e.changeUnFollow(t.id)}))},children:"Unfollow"}):Object(u.jsx)("button",{disabled:e.users.followingInProgress.some((function(e){return e==t.id})),onClick:function(){e.changeFollowingInProgress(t.id,!0),M.a.post("https://social-network.samuraijs.com/api/1.0/follow/".concat(t.id),{},{withCredentials:!0,headers:{"API-KEY":"3c089002-10aa-48c7-80c6-fa863be7bb86"}}).then((function(s){e.changeFollowingInProgress(t.id,!1),0===s.data.resultCode&&e.changeFollow(t.id)}))},children:"Follow"})})]}),Object(u.jsxs)("span",{children:[Object(u.jsx)("div",{children:t.name}),Object(u.jsx)("div",{children:t.status})]}),Object(u.jsxs)("span",{children:[Object(u.jsx)("div",{children:"us.location.city"}),Object(u.jsx)("div",{children:"us.location.country"})]})]},t.id)}))]})},le=s(43),ue=s.n(le),de=function(){return Object(u.jsx)("div",{className:ue.a.loader,children:"Loading..."})},je=M.a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"3c089002-10aa-48c7-80c6-fa863be7bb86"}}),ge=function(e,t){return je.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},he=function(e,t){return je.get("".concat("https://social-network.samuraijs.com/api/1.0/","users?page=").concat(e,"\n        &count=").concat(t)).then((function(e){return e.data}))},be=function(e){Object(S.a)(s,e);var t=Object(D.a)(s);function s(){var e;Object(C.a)(this,s);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).upDateUsers=function(t){e.props.changeFetching&&e.props.changeFetching(!0),he(t,e.props.users.totalPageSize).then((function(s){e.props.changeFetching&&e.props.changeFetching(!1),e.props.setUsers&&e.props.setUsers(s),e.props.changePages(t)}))},e}return Object(E.a)(s,[{key:"componentDidMount",value:function(){var e=this;ge(this.props.currentPage,this.props.users.totalPageSize).then((function(t){console.log(t),e.props.setUsers&&e.props.setUsers(t)}))}},{key:"render",value:function(){return Object(u.jsx)(u.Fragment,{children:this.props.users.isFetching?Object(u.jsx)(re,{users:this.props.users,currentPage:this.props.currentPage,changeFollow:this.props.follow,changePages:this.props.changePages,changeUnFollow:this.props.unFollow,upDateUsers:this.upDateUsers,changeFetching:this.props.changeFetching,changeFollowingInProgress:this.props.changeFollowingInProgress}):Object(u.jsx)(de,{})})}}]),s}(a.a.Component),pe=Object(w.b)((function(e){return{users:e.users,currentPage:e.users.currentPage}}),{follow:function(e){return{type:"FOLLOW_",id:e}},unFollow:function(e){return{type:"UN_FOLLOW_",id:e}},setUsers:function(e){return{type:"SET_USERS",items:e}},changePages:function(e){return{type:"CHANGE_USERS_PAGE",currentPage:e}},changeFetching:function(e){return{type:"CHANGE_Fetching",isFetching:e}},changeFollowingInProgress:function(e,t){return{type:"CHANGE_Disabled",followingInProgress:e,isFetchingD:t}}})(be),me=s(31),Oe=s.n(me),fe=function(e){return Object(u.jsx)("header",{className:Oe.a.header,children:Object(u.jsxs)("div",{children:[Object(u.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:\r ANd9GcQeCm48YLb7mh4rFyJNq202jtVys3xZlhMQNg&usqp=CAU",alt:""}),Object(u.jsx)("div",{className:Oe.a.nickName,children:e.isAuth?e.data.login:Object(u.jsx)(l.b,{to:"/logit",children:"Login"})})]})})},xe={data:{id:null,login:null,email:null},messages:[],fieldsErrors:[],resultCode:0,isAuth:!1},ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_ME":return Object(N.a)({},t.action);default:return e}},Pe=function(e){Object(S.a)(s,e);var t=Object(D.a)(s);function s(){return Object(C.a)(this,s),t.apply(this,arguments)}return Object(E.a)(s,[{key:"componentDidMount",value:function(){var e=this;M.a.get("https://social-network.samuraijs.com/api/1.0/auth/me",{withCredentials:!0}).then((function(t){0===t.data.resultCode&&e.props.setAuthHeader(Object(N.a)(Object(N.a)({},t.data),{},{isAuth:!0}))}))}},{key:"render",value:function(){return Object(u.jsx)(fe,{data:this.props.data,isAuth:this.props.isAuth})}}]),s}(a.a.Component),_e=Object(w.b)((function(e){return e.auth}),{setAuthHeader:function(e){return{type:"AUTH_ME",action:e}}})(Pe),we=function(e){return Object(u.jsx)(l.a,{children:Object(u.jsxs)("div",{className:"app-wrapper",children:[Object(u.jsx)(_e,{}),Object(u.jsx)(d,{}),Object(u.jsx)("div",{className:"app-wrapper-content",children:Object(u.jsxs)(h.c,{children:[Object(u.jsx)(h.a,{path:"/profile",element:Object(u.jsx)(se,{}),children:Object(u.jsx)(h.a,{path:"/profile:userId",element:Object(u.jsx)(se,{})})}),Object(u.jsx)(h.a,{path:"/dialogs",element:Object(u.jsx)(A,{}),children:Object(u.jsx)(h.a,{path:"/dialogs:id",element:Object(u.jsx)(A,{})})}),Object(u.jsx)(h.a,{path:"/users",element:Object(u.jsx)(pe,{})}),Object(u.jsx)(h.a,{path:"/news",element:Object(u.jsx)(j,{})}),Object(u.jsx)(h.a,{path:"/settings",element:Object(u.jsx)(g,{})}),Object(u.jsx)(h.a,{path:"/music",element:Object(u.jsx)(b,{})})]})})]})})},Ne=s(32),ke=Object(Ne.a)({profilePage:X,dialogsPages:I,users:ae,auth:ve}),ye=Object(Ne.b)(ke);window.store=ye;var Fe=ye,Ie=function(){c.a.render(Object(u.jsxs)(w.a,{store:Fe,children:[Object(u.jsx)(we,{state:Fe.getState(),dispatch:Fe.dispatch.bind(Fe)}),","]}),document.getElementById("root"))};Ie(),Fe.subscribe(Ie)}},[[74,1,2]]]);
//# sourceMappingURL=main.a573b455.chunk.js.map